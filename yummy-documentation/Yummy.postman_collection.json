{
	"info": {
		"_postman_id": "0c563694-ccac-4c3c-8cc8-bdf79c8bb5d8",
		"name": "Yummy",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "20bd1800-604d-4d44-a3e7-4405b01535ba",
								"exec": [
									"const body = JSON.parse(responseBody);",
									"if (body.token) {",
									"  pm.environment.set(\"token\", 'Bearer ' + body.token);",
									"  pm.environment.set(\"renew\", body.renew);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"email\": \"customer@gmail.com\",\n\t\"password\": \"qwe123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/auth/login",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/v1/auth/logout",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"logout"
							]
						}
					},
					"response": []
				},
				{
					"name": "Logout all",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/v1/auth/logoutAll",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"logoutAll"
							]
						}
					},
					"response": []
				},
				{
					"name": "Renew",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "45a4ad7a-8c4b-4032-a9b1-2124ece92f61",
								"exec": [
									"const body = JSON.parse(responseBody);",
									"if (body.token) {",
									"  pm.environment.set(\"token\", 'Bearer '+ body.token);",
									"  pm.environment.set(\"renew\", body.renew);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{ \"renew\": \"{{renew}}\" }",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/auth/renew",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"renew"
							]
						}
					},
					"response": []
				},
				{
					"name": "Send SMS",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"phone\": \"+353838225397\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/auth/sendSMS",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"sendSMS"
							]
						}
					},
					"response": []
				},
				{
					"name": "Validate SMS",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"phone\": \"+353838225397\",\n\t\"code\": \"6383\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/auth/validateSMS",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"validateSMS"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "Add",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ff240e78-3266-41cf-a47d-fa7f7b5d2d74",
								"exec": [
									"const body = JSON.parse(responseBody);",
									"if (body.token) {",
									"  pm.environment.set(\"token\", 'Bearer '+ body.token);",
									"  pm.environment.set(\"renew\", body.renew);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"example@gmail.com\",\n    \"phone\": \"+35390828272\",\n    \"firstName\": \"Jose\",\n    \"lastName\": \"Moreira\",\n    \"code\": \"3230\",\n    \"password\": \"qwe123\",\n    \"role\": \"customer\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/users",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"users"
							]
						},
						"description": "Adds a new user"
					},
					"response": []
				},
				{
					"name": "Get",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/v1/users/3",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"3"
							]
						}
					},
					"response": []
				},
				{
					"name": "Me (get by token)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{host}}/api/v1/users/me",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"me"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get by email",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/v1/users/email/merchant@levymoreira.com",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"email",
								"merchant@levymoreira.com"
							]
						}
					},
					"response": []
				},
				{
					"name": "List",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/v1/users",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"firstName\": \"meme\",\n    \"lastName\": \"wsefwe\",\n    \"phone\": \"45454545\",\n    \"email\": \"bussin@gmail.com\",\n    \"role\": \"merchant\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/users/15",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"15"
							]
						}
					},
					"response": []
				},
				{
					"name": "Block",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"reason\": \"Tried to kill the delivery guy (mccollin culkin)\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/users/12/block",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"12",
								"block"
							]
						}
					},
					"response": []
				},
				{
					"name": "Unblock",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"reason\": \"Tried to kill the delivery guy (mccollin culkin)\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/users/12/unblock",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"12",
								"unblock"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Orders",
			"item": [
				{
					"name": "Create order",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a912ceff-6e56-491b-800a-9268205f0f11",
								"exec": [
									"const body = JSON.parse(responseBody);",
									"if (body.id) {",
									"  pm.environment.set(\"orderId\", body.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"restaurantId\": 1,\n\t\"address\": \"193 Capertenstown road, Tyrrestown\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/orders",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"orders"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add meal",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"mealId\": 1,\n\t\"quantity\": 1\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/orders/{{orderId}}/meals",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"orders",
								"{{orderId}}",
								"meals"
							]
						}
					},
					"response": []
				},
				{
					"name": "List orders",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{host}}/api/v1/orders/",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"orders",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Update order status",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"status\": \"canceled\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/orders/{{orderId}}",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"orders",
								"{{orderId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update meal",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"mealId\": 1,\n\t\"quantity\": 2\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/orders/{{orderId}}/meals",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"orders",
								"{{orderId}}",
								"meals"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get order",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{host}}/api/v1/orders/57",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"orders",
								"57"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Restaurants",
			"item": [
				{
					"name": "Add",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ed8f803c-5158-4c5b-8d1b-cab1d8b423e1",
								"exec": [
									"const body = JSON.parse(responseBody);",
									"if (body.id) {",
									"  pm.environment.set(\"restaurantId\", body.id)",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n        \"name\": \"Manifesto\",\n        \"description\": \"Chef-owner Lucio hails from the south of Italy, and using high quality ingredients, his passion for food is reflected in Manifesto’s menu. This multi-award winning restaurant’s pizzas will not disappoint.\",\n        \"image\": \"https://f.roocdn.com/images/menus/84349/header-image.jpg?width=730&height=366&auto=webp&format=jpg&fit=crop&v=1538062642\",\n        \"delivery\": 1.99,\n        \"tags\": \"Italy, Cousine\",\n        \"userId\": 2\n      }",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/restaurants",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"restaurants"
							]
						},
						"description": "Adds a new user"
					},
					"response": []
				},
				{
					"name": "Get",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9099a646-153e-4ba2-bae0-9bdae480d6de",
								"exec": [
									"const body = JSON.parse(responseBody);",
									"if (body.id) {",
									"  pm.environment.set(\"restaurantId\", body.id)",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/v1/restaurants/1",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"restaurants",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2cb59063-628e-40a5-8186-76c4030a5945",
								"exec": [
									"const body = JSON.parse(responseBody);",
									"if (body.id) {",
									"  pm.environment.set(\"restaurantId\", body.id)",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}"
							}
						],
						"url": {
							"raw": "{{host}}/api/v1/restaurants/1",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"restaurants",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "List",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/v1/restaurants",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"restaurants"
							]
						}
					},
					"response": []
				},
				{
					"name": "List public",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "{{token}}",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{host}}/api/v1/restaurants/public",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"restaurants",
								"public"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c7f86c94-3310-4bd0-a9ab-c6a09e004154",
								"exec": [
									"const body = JSON.parse(responseBody);",
									"if (body.id) {",
									"  pm.environment.set(\"restaurantId\", body.id)",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"name\": \"Nice bistro\",\n\t\"description\": \"Really nice bistro with a good hotdog?\",\n\t\"image\": \"image.png\",\n\t\"delivery\": 2.22,\n\t\"tags\": \"hotdog, american\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/restaurants/1",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"restaurants",
								"1"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "1df48341-a592-4b48-9dd6-8d986584f86f",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "10f2b577-f483-427a-8703-2cab73a4e95e",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Meals",
			"item": [
				{
					"name": "Add",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"name\": \"Good hotdog\",\n\t\"description\": \"Really good hotdog\",\n\t\"image\": \"image.png\",\n\t\"price\": 12.11\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/restaurants/{{restaurantId}}/meals",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"restaurants",
								"{{restaurantId}}",
								"meals"
							]
						},
						"description": "Adds a new user"
					},
					"response": []
				},
				{
					"name": "Get",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/v1/restaurants/{{restaurantId}}/meals/1",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"restaurants",
								"{{restaurantId}}",
								"meals",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"name\": \"Good hotdog x\",\n\t\"description\": \"Really good hotdog\",\n\t\"image\": \"image.png\",\n\t\"price\": 12.11\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/v1/restaurants/{{restaurantId}}/meals/1",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"restaurants",
								"{{restaurantId}}",
								"meals",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "List",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/v1/restaurants/{{restaurantId}}/meals",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"restaurants",
								"{{restaurantId}}",
								"meals"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}/api/v1/restaurants/{{restaurantId}}/meals/1",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"restaurants",
								"{{restaurantId}}",
								"meals",
								"1"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "670694f4-85bf-435e-a78a-c9bd48771f08",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "79fdec67-968c-4e48-89ec-6f6d67b97f36",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"protocolProfileBehavior": {}
}